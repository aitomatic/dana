# pytest.ini - Test Configuration
# Copyright Â© 2025 Aitomatic, Inc. Licensed under the MIT License.

[pytest]
# Add project root to pythonpath
pythonpath = .

# Set the default loop scope for async fixtures
asyncio_default_fixture_loop_scope = function
filterwarnings =
    ignore::DeprecationWarning:websockets.legacy
    ignore::DeprecationWarning:lark.utils

# Verbose output and exclude live tests and deep tests by default
# This makes CI runs faster by only running fast regression tests
addopts = -v -s -m "not live and not deep"

# Specify the directory where tests are located
testpaths = tests

# Markers
markers =
    live: mark test as requiring external services (deselect with '-m "not live"')
    unit: mark test as a unit test (run with '-m unit')
    na_file: mark tests that execute .na files (may need real LLM)
    fast: mark test as a fast regression test (suitable for CI)
    deep: mark test as a comprehensive/integration test (run locally)
    slow: mark test as potentially slow (alias for deep)
    integration: mark test as an integration test
