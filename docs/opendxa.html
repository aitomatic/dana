<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Page Title Here</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        canvas {
            border: 1px solid #ccc;
            margin: 20px;
        }
    </style>
</head>
<body>
    <canvas id="architectureCanvas" width="800" height="600"></canvas>
    <script>
        const canvas = document.getElementById('architectureCanvas');
        const ctx = canvas.getContext('2d');

        // Helper functions
        function roundRect(x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.arcTo(x + width, y, x + width, y + height, radius);
            ctx.arcTo(x + width, y + height, x, y + height, radius);
            ctx.arcTo(x, y + height, x, y, radius);
            ctx.arcTo(x, y, x + width, y, radius);
            ctx.closePath();
        }

        function drawArrow(fromX, fromY, toX, toY) {
            const headLen = 10;
            const angle = Math.atan2(toY - fromY, toX - fromX);
            
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(toX, toY);
            ctx.lineTo(toX - headLen * Math.cos(angle - Math.PI/6),
                      toY - headLen * Math.sin(angle - Math.PI/6));
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headLen * Math.cos(angle + Math.PI/6),
                      toY - headLen * Math.sin(angle + Math.PI/6));
            ctx.stroke();
        }

        // Background
        ctx.fillStyle = '#f8f9fa';
        ctx.fillRect(0, 0, 800, 600);

        // Agent Container
        ctx.fillStyle = '#e3f2fd';
        ctx.strokeStyle = '#1565c0';
        ctx.lineWidth = 2;
        roundRect(50, 50, 450, 400, 10);
        ctx.fill();
        ctx.stroke();

        // Agent Title
        ctx.fillStyle = '#1565c0';
        ctx.font = 'bold 24px Arial';
        ctx.fillText('Agent', 70, 80);

        // Reasoning Container
        ctx.fillStyle = '#fff3e0';
        ctx.strokeStyle = '#f57c00';
        roundRect(70, 100, 410, 200, 8);
        ctx.fill();
        ctx.stroke();

        // Reasoning Components
        ctx.font = 'bold 20px Arial';
        ctx.fillStyle = '#f57c00';
        ctx.fillText('Reasoning', 90, 130);

        // Draw reasoning boxes
        ctx.fillStyle = '#fff';
        ctx.strokeStyle = '#f57c00';
        
        // Base Reasoning
        roundRect(90, 150, 120, 40, 5);
        ctx.fill();
        ctx.stroke();
        
        // Derived Reasoning boxes
        roundRect(90, 220, 120, 40, 5);
        ctx.fill();
        ctx.stroke();
        
        roundRect(230, 220, 120, 40, 5);
        ctx.fill();
        ctx.stroke();

        // Box text
        ctx.font = '12px Arial';
        ctx.fillStyle = '#f57c00';
        ctx.fillText('BaseReasoning', 110, 175);
        ctx.fillText('ChainOfThought', 110, 240);
        ctx.fillText('OODAReasoning', 250, 240);

        // Inheritance arrows
        ctx.strokeStyle = '#f57c00';
        drawArrow(150, 220, 150, 190);
        drawArrow(290, 220, 150, 190);

        // AgentLLM Container
        ctx.fillStyle = '#e8f5e9';
        ctx.strokeStyle = '#2e7d32';
        roundRect(70, 320, 410, 100, 8);
        ctx.fill();
        ctx.stroke();

        // AgentLLM text
        ctx.font = 'bold 20px Arial';
        ctx.fillStyle = '#2e7d32';
        ctx.fillText('AgentLLM', 90, 350);
        ctx.font = '14px Arial';
        ctx.fillText('Language Model for Processing & Decision Making', 90, 380);

        // Resources Container
        ctx.fillStyle = '#f3e5f5';
        ctx.strokeStyle = '#7b1fa2';
        roundRect(520, 50, 230, 400, 10);
        ctx.fill();
        ctx.stroke();

        // Resources Title
        ctx.font = 'bold 24px Arial';
        ctx.fillStyle = '#7b1fa2';
        ctx.fillText('Resources', 540, 80);

        // Resource Items
        ctx.fillStyle = '#fff';
        ctx.strokeStyle = '#7b1fa2';
        let y = 100;
        ['Domain Expert Agents', 'External LLMs', 'Databases', 'Tools & APIs'].forEach(item => {
            roundRect(540, y, 190, 40, 5);
            //ctx.fill();
            ctx.stroke();
            ctx.fillStyle = '#7b1fa2';
            ctx.font = '14px Arial';
            ctx.fillText(item, 550, y + 25);
            y += 60;
        });

        // Input/Output arrows
        ctx.strokeStyle = '#666';
        ctx.lineWidth = 2;
        drawArrow(400, 20, 400, 50);  // Input
        drawArrow(400, 450, 400, 480); // Output
        
        // Interaction arrows
        drawArrow(470, 200, 520, 200);
        drawArrow(520, 250, 470, 250);

        // Reasoning Loop
        ctx.beginPath();
        ctx.arc(400, 200, 30, 0, 1.5 * Math.PI);
        ctx.stroke();
        drawArrow(400, 170, 410, 180);
    </script>
</body>
</html>