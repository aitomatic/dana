system:agent_name = "GMA"
system:agent_description = "General purpose agent"

websearch = use("mcp", url="http://localhost:8880/websearch")

weather_agent = agent(
    url="http://localhost:5001",
    timeout=30
    )
trip_agent = agent(url="http://localhost:5002")
ticket_agent = agent(url="http://localhost:5003")


log_level("DEBUG")

pool = agent_pool(agents=[weather_agent, trip_agent, ticket_agent])

task = "Who is the CEO of Aitomatic"

selected_agent = pool.select_agent(task)

if selected_agent != None:
    print(selected_agent.solve(task))
else:
    print(reason(task, enable_ipv=False))



# print(reason(task, agents=[weather_agent, trip_agent], resources=[websearch], enable_ipv=False))
task = "What is the weather in Tokyo?"

selected_agent = pool.select_agent(task)

if selected_agent != None:
    print(selected_agent.solve(task))
else:
    print(reason(task, enable_ipv=False))