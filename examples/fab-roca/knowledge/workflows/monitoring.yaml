name: "RIE RF Matching Monitor"
description: "Monitor RF matching network parameters and diagnose issues"

nodes:
  - id: "START"
    type: "START"
    description: "Begin monitoring loop"

  - id: "MONITOR"
    type: "TASK"
    description: "Monitor RF matching parameters"
    metadata:
      parameters:
        - "forward_power"
        - "reflected_power"
        - "match_position_1"
        - "match_position_2"

  - id: "CHECK_LIMITS"
    type: "CONDITION"
    description: "Check if parameters within limits"
    metadata:
      rules:
        - "Check reflected_power against normal_range"
        - "Check match positions against normal_range"

  - id: "DIAGNOSE"
    type: "TASK"
    description: "Diagnose RF matching issue"
    metadata:
      fault_patterns:
        - "high_reflection"
        - "unstable_matching"

  - id: "REPORT"
    type: "TASK"
    description: "Report diagnosis and recommendations"

  - id: "END"
    type: "END"
    description: "End monitoring cycle"

edges:
  - source: "START"
    target: "MONITOR"

  - source: "MONITOR"
    target: "CHECK_LIMITS"

  - source: "CHECK_LIMITS"
    target: "MONITOR"
    metadata:
      condition: "parameters_normal"

  - source: "CHECK_LIMITS"
    target: "DIAGNOSE"
    metadata:
      condition: "parameters_abnormal"

  - source: "DIAGNOSE"
    target: "REPORT"

  - source: "REPORT"
    target: "MONITOR" 