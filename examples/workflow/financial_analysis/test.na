"""Test Financial Statement Query Methods."""

# TODO: parenthesized importing in Dana
# from fin_statements import (
#     get_total_asset, get_total_asset_2y, get_total_asset_3y,
#     get_fixed_asset, get_fixed_asset_2y, get_fixed_asset_3y,
#     get_curr_asset, get_curr_asset_2y, get_curr_asset_3y,
#     get_cash_and_equiv, get_cash_and_equiv_2y, get_cash_and_equiv_3y,
#     get_st_inv, get_st_inv_2y, get_st_inv_3y,
#     get_recvable, get_recvable_2y, get_recvable_3y,
#     get_inventory, get_inventory_2y, get_inventory_3y,
#
#     get_curr_liab, get_curr_liab_2y, get_curr_liab_3y,
#
#     get_payable, get_payable_2y, get_payable_3y,
#
#     get_lt_debt, get_lt_debt_2y, get_lt_debt_3y,
#     get_st_debt, get_st_debt_2y, get_st_debt_3y,
#
#     get_equity, get_equity_2y, get_equity_3y,
#
#     get_op_cf, get_op_cf_2y, get_op_cf_3y,
#
#     get_capex, get_capex_2y, get_capex_3y,
#
#     get_rev, get_rev_2y, get_rev_3y,
#
#     get_cogs, get_cogs_2y, get_cogs_3y,
#
#     get_gross_income, get_gross_income_2y, get_gross_income_3y,
#
#     get_ga_exp, get_ga_exp_2y, get_ga_exp_3y,
#
#     get_deprec_and_amort, get_deprec_and_amort_2y, get_deprec_and_amort_3y,
#
#     get_op_income, get_op_income_2y, get_op_income_3y,
#
#     get_ebit, get_ebit_2y, get_ebit_3y,
#
#     get_int_exp, get_int_exp_2y, get_int_exp_3y,
#
#     get_ebt, get_ebt_2y, get_ebt_3y,
#
#     get_tax_exp, get_tax_exp_2y, get_tax_exp_3y,
#
#     get_net_income, get_net_income_2y, get_net_income_3y,
#
#     get_div, get_div_2y, get_div_3y,
# )
from fin_statements import get_total_asset, get_total_asset_2y, get_total_asset_3y
from fin_statements import get_fixed_asset, get_fixed_asset_2y, get_fixed_asset_3y
from fin_statements import get_curr_asset, get_curr_asset_2y, get_curr_asset_3y
from fin_statements import get_cash_and_equiv, get_cash_and_equiv_2y, get_cash_and_equiv_3y
from fin_statements import get_st_inv, get_st_inv_2y, get_st_inv_3y
from fin_statements import get_recvable, get_recvable_2y, get_recvable_3y
from fin_statements import get_inventory, get_inventory_2y, get_inventory_3y
from fin_statements import get_curr_liab, get_curr_liab_2y, get_curr_liab_3y
from fin_statements import get_payable, get_payable_2y, get_payable_3y
from fin_statements import get_lt_debt, get_lt_debt_2y, get_lt_debt_3y
from fin_statements import get_st_debt, get_st_debt_2y, get_st_debt_3y
from fin_statements import get_equity, get_equity_2y, get_equity_3y

from fin_statements import get_op_cf, get_op_cf_2y, get_op_cf_3y
from fin_statements import get_capex, get_capex_2y, get_capex_3y

from fin_statements import get_rev, get_rev_2y, get_rev_3y
from fin_statements import get_cogs, get_cogs_2y, get_cogs_3y
from fin_statements import get_gross_income, get_gross_income_2y, get_gross_income_3y
from fin_statements import get_ga_exp, get_ga_exp_2y, get_ga_exp_3y
from fin_statements import get_op_income, get_op_income_2y, get_op_income_3y
from fin_statements import get_deprec_and_amort, get_deprec_and_amort_2y, get_deprec_and_amort_3y
from fin_statements import get_ebit, get_ebit_2y, get_ebit_3y
from fin_statements import get_int_exp, get_int_exp_2y, get_int_exp_3y
from fin_statements import get_ebt, get_ebt_2y, get_ebt_3y
from fin_statements import get_tax_exp, get_tax_exp_2y, get_tax_exp_3y
from fin_statements import get_net_income, get_net_income_2y, get_net_income_3y

from fin_statements import get_div, get_div_2y, get_div_3y

from tqdm.py import tqdm

FUNCS_TO_TEST: dict[str, callable] = {
    'get_total_asset': get_total_asset,
    'get_total_asset_2y': get_total_asset_2y,
    'get_total_asset_3y': get_total_asset_3y,

    'get_fixed_asset': get_fixed_asset,
    'get_fixed_asset_2y': get_fixed_asset_2y,
    'get_fixed_asset_3y': get_fixed_asset_3y,

    'get_curr_asset': get_curr_asset,
    'get_curr_asset_2y': get_curr_asset_2y,
    'get_curr_asset_3y': get_curr_asset_3y,

    'get_cash_and_equiv': get_cash_and_equiv,
    'get_cash_and_equiv_2y': get_cash_and_equiv_2y,
    'get_cash_and_equiv_3y': get_cash_and_equiv_3y,

    'get_st_inv': get_st_inv,
    'get_st_inv_2y': get_st_inv_2y,
    'get_st_inv_3y': get_st_inv_3y,

    'get_recvable': get_recvable,
    'get_recvable_2y': get_recvable_2y,
    'get_recvable_3y': get_recvable_3y,

    'get_inventory': get_inventory,
    'get_inventory_2y': get_inventory_2y,
    'get_inventory_3y': get_inventory_3y,

    'get_curr_liab': get_curr_liab,
    'get_curr_liab_2y': get_curr_liab_2y,
    'get_curr_liab_3y': get_curr_liab_3y,

    'get_payable': get_payable,
    'get_payable_2y': get_payable_2y,
    'get_payable_3y': get_payable_3y,

    'get_lt_debt': get_lt_debt,
    'get_lt_debt_2y': get_lt_debt_2y,
    'get_lt_debt_3y': get_lt_debt_3y,

    'get_st_debt': get_st_debt,
    'get_st_debt_2y': get_st_debt_2y,
    'get_st_debt_3y': get_st_debt_3y,

    'get_equity': get_equity,
    'get_equity_2y': get_equity_2y,
    'get_equity_3y': get_equity_3y,

    'get_op_cf': get_op_cf,
    'get_op_cf_2y': get_op_cf_2y,
    'get_op_cf_3y': get_op_cf_3y,

    'get_capex': get_capex,
    'get_capex_2y': get_capex_2y,
    'get_capex_3y': get_capex_3y,

    'get_rev': get_rev,
    'get_rev_2y': get_rev_2y,
    'get_rev_3y': get_rev_3y,

    'get_cogs': get_cogs,
    'get_cogs_2y': get_cogs_2y,
    'get_cogs_3y': get_cogs_3y,

    'get_gross_income': get_gross_income,
    'get_gross_income_2y': get_gross_income_2y,
    'get_gross_income_3y': get_gross_income_3y,

    'get_ga_exp': get_ga_exp,
    'get_ga_exp_2y': get_ga_exp_2y,
    'get_ga_exp_3y': get_ga_exp_3y,

    'get_deprec_and_amort': get_deprec_and_amort,
    'get_deprec_and_amort_2y': get_deprec_and_amort_2y,
    'get_deprec_and_amort_3y': get_deprec_and_amort_3y,

    'get_op_income': get_op_income,
    'get_op_income_2y': get_op_income_2y,
    'get_op_income_3y': get_op_income_3y,

    'get_ebit': get_ebit,
    'get_ebit_2y': get_ebit_2y,
    'get_ebit_3y': get_ebit_3y,

    'get_int_exp': get_int_exp,
    'get_int_exp_2y': get_int_exp_2y,
    'get_int_exp_3y': get_int_exp_3y,

    'get_ebt': get_ebt,
    'get_ebt_2y': get_ebt_2y,
    'get_ebt_3y': get_ebt_3y,

    'get_tax_exp': get_tax_exp,
    'get_tax_exp_2y': get_tax_exp_2y,
    'get_tax_exp_3y': get_tax_exp_3y,

    'get_net_income': get_net_income,
    'get_net_income_2y': get_net_income_2y,
    'get_net_income_3y': get_net_income_3y,

    'get_div': get_div,
    'get_div_2y': get_div_2y,
    'get_div_3y': get_div_3y,
}

TEST_DOC_PATH: str = 'test-assets/AMD_2022_10K.pdf'

def __main__(func_name: str = 'all'):
    with use('rag', sources=[TEST_DOC_PATH]) as test_docs:
        if func_name in FUNCS_TO_TEST:
            print(f'TESTING {func_name}...')
            print(FUNCS_TO_TEST[func_name]())

        else:
            for func_name in FUNCS_TO_TEST:  # TODO: key-value pair unpacking in Dana
                print(f'TESTING {func_name}...')
                print(FUNCS_TO_TEST[func_name]())
