"""Test Return Ratios."""

# TODO: relative importing & parenthesized importing in Dana
# from return_ratios import (
#     calc_roa_ratio,
# )
from return_ratios import calc_roa_ratio

from test import TEST_DOC_PATH

from tqdm.py import tqdm

FUNCS_FOR_TEST: dict[str, callable] = {
    'calc_roa_ratio': calc_roa_ratio,
}

def __main__(func_name: str = 'all'):
    with use('rag', sources=[TEST_DOC_PATH]) as test_docs:
        if func_name in FUNCS_FOR_TEST:
            print(f'TESTING {func_name}...')
            print(FUNCS_FOR_TEST[func_name]())

        else:
            for func_name in FUNCS_FOR_TEST:  # TODO: key-value pair unpacking in Dana
                print(f'TESTING {func_name}...')
                print(FUNCS_FOR_TEST[func_name]())
