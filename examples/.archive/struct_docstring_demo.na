"""
Struct Docstring Demo

This example demonstrates that Dana now supports docstrings in struct definitions.
This was implemented to address the user's request for better documentation support.
"""

struct DefectData:
    """Represents a manufacturing quality issue requiring multi-agent response."""
    batch_id: str
    defect_rate: float
    target_rate: float
    daily_loss: float
    defect_types: list[str]
    affected_equipment: list[str]
    detection_timestamp: str

struct UserProfile:
    """User profile information for authentication and personalization."""
    user_id: str  # unique identifier
    username: str  # display name
    email: str  # contact email
    preferences: dict  # user preferences
    created_at: str  # account creation timestamp

# Test instantiation
defect = DefectData(
    batch_id="WF-2024-ETH-001",
    defect_rate=0.08,
    target_rate=0.02,
    daily_loss=50000,
    defect_types=["edge_cracking", "surface_contamination"],
    affected_equipment=["etcher_station_3", "metrology_tool_7"],
    detection_timestamp="2024-01-15T14:30:00Z"
)

user = UserProfile(
    user_id="user_123",
    username="john_doe",
    email="john@example.com",
    preferences={"theme": "dark", "notifications": True},
    created_at="2024-01-15T10:00:00Z"
)

log("✅ Struct docstring support is now working in Dana!")
log(f"Created defect: {defect.batch_id}")
log(f"Created user: {user.username}")

# Demonstrate docstring access
defect_type = defect.struct_type
user_type = user.struct_type

log(f"\n📝 Struct Documentation:")
log(f"DefectData docstring: {defect_type.docstring}")
log(f"UserProfile docstring: {user_type.docstring}")

log(f"\n🎉 Success! Struct docstrings are fully functional in Dana.") 